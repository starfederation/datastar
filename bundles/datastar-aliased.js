// Datastar v1.0.0-beta.8
var Ze=/ðŸ–•JS_DSðŸš€/.source,Se=Ze.slice(0,5),Ve=Ze.slice(4),F="datastar";var et="Datastar-Request",be=300,tt=1e3,nt="type module",Te=!1,rt=!1,it=!0,G={Morph:"morph",Inner:"inner",Outer:"outer",Prepend:"prepend",Append:"append",Before:"before",After:"after",UpsertAttributes:"upsertAttributes"},ot=G.Morph,H={MergeFragments:"datastar-merge-fragments",MergeSignals:"datastar-merge-signals",RemoveFragments:"datastar-remove-fragments",RemoveSignals:"datastar-remove-signals",ExecuteScript:"datastar-execute-script"};var w=(r=>(r[r.Attribute=1]="Attribute",r[r.Watcher=2]="Watcher",r[r.Action=3]="Action",r))(w||{});var ce=`${F}-signals`;var J=t=>t.trim()==="true",fe=t=>t.replace(/[A-Z]+(?![a-z])|[A-Z]/g,(e,n)=>(n?"-":"")+e.toLowerCase()),Q=t=>fe(t).replace(/-./g,e=>e[1].toUpperCase()),ke=t=>fe(t).replace(/-/g,"_"),wn=t=>Q(t).replace(/^./,e=>e[0].toUpperCase()),Ae=t=>new Function(`return Object.assign({}, ${t})`)(),z=t=>t.startsWith("$")?t.slice(1):t,Mn={kebab:fe,snake:ke,pascal:wn};function k(t,e){for(let n of e.get("case")||[]){let r=Mn[n];r&&(t=r(t))}return t}var Nn="computed",st={type:1,name:Nn,keyReq:1,valReq:1,onLoad:({key:t,mods:e,signals:n,genRX:r})=>{t=k(t,e);let i=r();n.setComputed(t,i)}};var at={type:1,name:"signals",onLoad:t=>{let{key:e,mods:n,signals:r,value:i,genRX:o}=t,u=n.has("ifmissing");if(e!==""){let s=k(e,n),p=i===""?i:o()();u?r.upsertIfMissing(s,p):r.setValue(s,p)}else{let s=Ae(t.value);t.value=JSON.stringify(s);let S=o()();r.merge(S,u)}}};var lt={type:1,name:"star",keyReq:2,valReq:2,onLoad:()=>{alert("YOU ARE PROBABLY OVERCOMPLICATING IT")}};var te=class{#e=0;#t;constructor(e=F){this.#t=e}with(e){if(typeof e=="string")for(let n of e.split(""))this.with(n.charCodeAt(0));else typeof e=="boolean"?this.with(1<<(e?7:3)):this.#e=this.#e*33^e;return this}get value(){return this.#e}get string(){return this.#t+Math.abs(this.#e).toString(36)}};function ut(t){if(t.id)return t.id;let e=new te,n=t;for(;n;){if(e.with(n.tagName||""),n.id){e.with(n.id);break}let r=n?.parentNode;r&&e.with([...r.children].indexOf(n)),n=r}return e.string}function ct(t,e){return new te().with(t).with(e).value}function Oe(t,e){if(!t||!(t instanceof HTMLElement||t instanceof SVGElement))return null;let n=t.dataset;if("starIgnore"in n)return null;"starIgnore__self"in n||e(t);let r=t.firstElementChild;for(;r;)Oe(r,e),r=r.nextElementSibling}var Cn="https://data-star.dev/errors";function Fe(t,e,n={}){let r=new Error;r.name=`${F} ${t} error`;let i=ke(e),o=new URLSearchParams({metadata:JSON.stringify(n)}).toString(),u=JSON.stringify(n,null,2);return r.message=`${e}
More info: ${Cn}/${t}/${i}?${o}
Context: ${u}`,r}function B(t,e,n={}){return Fe("internal",e,Object.assign({from:t},n))}function $(t,e,n={}){let r={plugin:{name:e.plugin.name,type:w[e.plugin.type]}};return Fe("init",t,Object.assign(r,n))}function M(t,e,n={}){let r={plugin:{name:e.plugin.name,type:w[e.plugin.type]},element:{id:e.el.id,tag:e.el.tagName},expression:{rawKey:e.rawKey,key:e.key,value:e.value,validSignals:e.signals.paths(),fnContent:e.fnContent}};return Fe("runtime",t,Object.assign(r,n))}var ne="preact-signals",Pn=Symbol.for("preact-signals"),U=1,re=2,pe=4,oe=8,Ee=16,ie=32;function qe(){_e++}function We(){if(_e>1){_e--;return}let t,e=!1;for(;de!==void 0;){let n=de;for(de=void 0,He++;n!==void 0;){let r=n._nextBatchedEffect;if(n._nextBatchedEffect=void 0,n._flags&=~re,!(n._flags&oe)&&dt(n))try{n._callback()}catch(i){e||(t=i,e=!0)}n=r}}if(He=0,_e--,e)throw t}var P;var de,_e=0,He=0,xe=0;function ft(t){if(P===void 0)return;let e=t._node;if(e===void 0||e._target!==P)return e={_version:0,_source:t,_prevSource:P._sources,_nextSource:void 0,_target:P,_prevTarget:void 0,_nextTarget:void 0,_rollbackNode:e},P._sources!==void 0&&(P._sources._nextSource=e),P._sources=e,t._node=e,P._flags&ie&&t._subscribe(e),e;if(e._version===-1)return e._version=0,e._nextSource!==void 0&&(e._nextSource._prevSource=e._prevSource,e._prevSource!==void 0&&(e._prevSource._nextSource=e._nextSource),e._prevSource=P._sources,e._nextSource=void 0,P._sources._nextSource=e,P._sources=e),e}function L(t){this._value=t,this._version=0,this._node=void 0,this._targets=void 0}L.prototype.brand=Pn;L.prototype._refresh=()=>!0;L.prototype._subscribe=function(t){this._targets!==t&&t._prevTarget===void 0&&(t._nextTarget=this._targets,this._targets!==void 0&&(this._targets._prevTarget=t),this._targets=t)};L.prototype._unsubscribe=function(t){if(this._targets!==void 0){let e=t._prevTarget,n=t._nextTarget;e!==void 0&&(e._nextTarget=n,t._prevTarget=void 0),n!==void 0&&(n._prevTarget=e,t._nextTarget=void 0),t===this._targets&&(this._targets=n)}};L.prototype.subscribe=function(t){return Re(()=>{let e=this.value,n=P;P=void 0;try{t(e)}finally{P=n}})};L.prototype.valueOf=function(){return this.value};L.prototype.toString=function(){return`${this.value}`};L.prototype.toJSON=function(){return this.value};L.prototype.peek=function(){let t=P;P=void 0;try{return this.value}finally{P=t}};Object.defineProperty(L.prototype,"value",{get(){let t=ft(this);return t!==void 0&&(t._version=this._version),this._value},set(t){if(t!==this._value){if(He>100)throw B(ne,"SignalCycleDetected");let e=this._value,n=t;this._value=t,this._version++,xe++,qe();try{for(let r=this._targets;r!==void 0;r=r._nextTarget)r._target._notify()}finally{We()}this?._onChange({old:e,revised:n})}}});function dt(t){for(let e=t._sources;e!==void 0;e=e._nextSource)if(e._source._version!==e._version||!e._source._refresh()||e._source._version!==e._version)return!0;return!1}function pt(t){for(let e=t._sources;e!==void 0;e=e._nextSource){let n=e._source._node;if(n!==void 0&&(e._rollbackNode=n),e._source._node=e,e._version=-1,e._nextSource===void 0){t._sources=e;break}}}function mt(t){let e=t._sources,n;for(;e!==void 0;){let r=e._prevSource;e._version===-1?(e._source._unsubscribe(e),r!==void 0&&(r._nextSource=e._nextSource),e._nextSource!==void 0&&(e._nextSource._prevSource=r)):n=e,e._source._node=e._rollbackNode,e._rollbackNode!==void 0&&(e._rollbackNode=void 0),e=r}t._sources=n}function Z(t){L.call(this,void 0),this._fn=t,this._sources=void 0,this._globalVersion=xe-1,this._flags=pe}Z.prototype=new L;Z.prototype._refresh=function(){if(this._flags&=~re,this._flags&U)return!1;if((this._flags&(pe|ie))===ie||(this._flags&=~pe,this._globalVersion===xe))return!0;if(this._globalVersion=xe,this._flags|=U,this._version>0&&!dt(this))return this._flags&=~U,!0;let t=P;try{pt(this),P=this;let e=this._fn();(this._flags&Ee||this._value!==e||this._version===0)&&(this._value=e,this._flags&=~Ee,this._version++)}catch(e){this._value=e,this._flags|=Ee,this._version++}return P=t,mt(this),this._flags&=~U,!0};Z.prototype._subscribe=function(t){if(this._targets===void 0){this._flags|=pe|ie;for(let e=this._sources;e!==void 0;e=e._nextSource)e._source._subscribe(e)}L.prototype._subscribe.call(this,t)};Z.prototype._unsubscribe=function(t){if(this._targets!==void 0&&(L.prototype._unsubscribe.call(this,t),this._targets===void 0)){this._flags&=~ie;for(let e=this._sources;e!==void 0;e=e._nextSource)e._source._unsubscribe(e)}};Z.prototype._notify=function(){if(!(this._flags&re)){this._flags|=pe|re;for(let t=this._targets;t!==void 0;t=t._nextTarget)t._target._notify()}};Object.defineProperty(Z.prototype,"value",{get(){if(this._flags&U)throw B(ne,"SignalCycleDetected");let t=ft(this);if(this._refresh(),t!==void 0&&(t._version=this._version),this._flags&Ee)throw B(ne,"GetComputedError",{value:this._value});return this._value}});function gt(t){return new Z(t)}function ht(t){let e=t._cleanup;if(t._cleanup=void 0,typeof e=="function"){qe();let n=P;P=void 0;try{e()}catch(r){throw t._flags&=~U,t._flags|=oe,$e(t),B(ne,"CleanupEffectError",{error:r})}finally{P=n,We()}}}function $e(t){for(let e=t._sources;e!==void 0;e=e._nextSource)e._source._unsubscribe(e);t._fn=void 0,t._sources=void 0,ht(t)}function In(t){if(P!==this)throw B(ne,"EndEffectError");mt(this),P=t,this._flags&=~U,this._flags&oe&&$e(this),We()}function me(t){this._fn=t,this._cleanup=void 0,this._sources=void 0,this._nextBatchedEffect=void 0,this._flags=ie}me.prototype._callback=function(){let t=this._start();try{if(this._flags&oe||this._fn===void 0)return;let e=this._fn();typeof e=="function"&&(this._cleanup=e)}finally{t()}};me.prototype._start=function(){if(this._flags&U)throw B(ne,"SignalCycleDetected");this._flags|=U,this._flags&=~oe,ht(this),pt(this),qe();let t=P;return P=this,In.bind(this,t)};me.prototype._notify=function(){this._flags&re||(this._flags|=re,this._nextBatchedEffect=de,de=this)};me.prototype._dispose=function(){this._flags|=oe,this._flags&U||$e(this)};function Re(t){let e=new me(t);try{e._callback()}catch(n){throw e._dispose(),n}return e._dispose.bind(e)}var vt="namespacedSignals",se=t=>{document.dispatchEvent(new CustomEvent(ce,{detail:Object.assign({added:[],removed:[],updated:[]},t)}))};function yt(t,e=!1){let n={};for(let r in t)if(Object.hasOwn(t,r)){if(e&&r.startsWith("_"))continue;let i=t[r];i instanceof L?n[r]=i.value:n[r]=yt(i)}return n}function St(t,e,n=!1){let r={added:[],removed:[],updated:[]};for(let i in e)if(Object.hasOwn(e,i)){if(i.match(/\_\_+/))throw B(vt,"InvalidSignalKey",{key:i});let o=e[i];if(o instanceof Object&&!Array.isArray(o)){t[i]||(t[i]={});let u=St(t[i],o,n);r.added.push(...u.added.map(s=>`${i}.${s}`)),r.removed.push(...u.removed.map(s=>`${i}.${s}`)),r.updated.push(...u.updated.map(s=>`${i}.${s}`))}else{if(Object.hasOwn(t,i)){if(n)continue;let p=t[i];if(p instanceof L){let S=p.value;p.value=o,S!==o&&r.updated.push(i);continue}}let s=new L(o);s._onChange=()=>{se({updated:[i]})},t[i]=s,r.added.push(i)}}return r}function bt(t,e){for(let n in t)if(Object.hasOwn(t,n)){let r=t[n];r instanceof L?e(n,r):bt(r,(i,o)=>{e(`${n}.${i}`,o)})}}function Ln(t,...e){let n={};for(let r of e){let i=r.split("."),o=t,u=n;for(let p=0;p<i.length-1;p++){let S=i[p];if(!o[S])return{};u[S]||(u[S]={}),o=o[S],u=u[S]}let s=i[i.length-1];u[s]=o[s]}return n}var we=class{#e={};exists(e){return!!this.signal(e)}signal(e){let n=e.split("."),r=this.#e;for(let u=0;u<n.length-1;u++){let s=n[u];if(!r[s])return null;r=r[s]}let i=n[n.length-1],o=r[i];if(!o)throw B(vt,"SignalNotFound",{path:e});return o}setSignal(e,n){let r=e.split("."),i=this.#e;for(let u=0;u<r.length-1;u++){let s=r[u];i[s]||(i[s]={}),i=i[s]}let o=r[r.length-1];i[o]=n}setComputed(e,n){let r=gt(()=>n());this.setSignal(e,r)}value(e){return this.signal(e)?.value}setValue(e,n){let{signal:r}=this.upsertIfMissing(e,n),i=r.value;r.value=n,i!==n&&se({updated:[e]})}upsertIfMissing(e,n){let r=e.split("."),i=this.#e;for(let p=0;p<r.length-1;p++){let S=r[p];i[S]||(i[S]={}),i=i[S]}let o=r[r.length-1],u=i[o];if(u instanceof L)return{signal:u,inserted:!1};let s=new L(n);return s._onChange=()=>{se({updated:[e]})},i[o]=s,se({added:[e]}),{signal:s,inserted:!0}}remove(...e){if(!e.length){this.#e={};return}let n=Array();for(let r of e){let i=r.split("."),o=this.#e;for(let s=0;s<i.length-1;s++){let p=i[s];if(!o[p])return;o=o[p]}let u=i[i.length-1];delete o[u],n.push(r)}se({removed:n})}merge(e,n=!1){let r=St(this.#e,e,n);(r.added.length||r.removed.length||r.updated.length)&&se(r)}subset(...e){return Ln(this.values(),...e)}walk(e){bt(this.#e,e)}paths(){let e=new Array;return this.walk(n=>e.push(n)),e}values(e=!1){return yt(this.#e,e)}JSON(e=!0,n=!1){let r=this.values(n);return e?JSON.stringify(r,null,2):JSON.stringify(r)}toString(){return this.JSON()}};var Tt=new we,Be=[],Me={},Dn=[],Ue="";function je(t){Ue=t}var Ge=null,ge=new Map;function Ne(...t){for(let e of t){let n={signals:Tt,effect:i=>Re(i),actions:Me,plugin:e,apply:ae},r;switch(e.type){case 2:{let i=e;Dn.push(i),r=i.onGlobalInit;break}case 3:{Me[e.name]=e;break}case 1:{let i=e;Be.push(i),r=i.onGlobalInit;break}default:throw $("InvalidPluginType",n)}r&&r(n)}Be.sort((e,n)=>{let r=n.name.length-e.name.length;return r!==0?r:e.name.localeCompare(n.name)})}function ae(t=document.documentElement){Oe(t,e=>{let n=new Array,r=ge.get(e)||new Map,i=new Map([...r]),o=new Map;for(let u of Object.keys(e.dataset)){if(!u.startsWith(Ue))break;let s=e.dataset[u]||"",p=ct(u,s);o.set(u,p),r.has(p)?i.delete(p):n.push(u)}for(let[u,s]of i)s();for(let u of n){let s=o.get(u);kn(e,u,s)}}),Vn()}function Vn(){Ge||(Ge=new MutationObserver(t=>{let e=new Set,n=new Set;for(let{target:r,type:i,addedNodes:o,removedNodes:u}of t)switch(i){case"childList":{for(let s of u)e.add(s);for(let s of o)n.add(s)}break;case"attributes":{n.add(r);break}}for(let r of e){let i=ge.get(r);if(i){for(let[o,u]of i)u(),i.delete(o);i.size===0&&ge.delete(r)}}for(let r of n)ae(r)}),Ge.observe(document.body,{attributes:!0,attributeOldValue:!0,childList:!0,subtree:!0}))}function kn(t,e,n){let r=Q(e.slice(Ue.length)),i=Be.find(y=>r.startsWith(y.name));if(!i)return;t.id.length||(t.id=ut(t));let[o,...u]=r.slice(i.name.length).split(/\_\_+/),s=o.length>0;s&&(o=Q(o));let p=t.dataset[e]||"",S=p.length>0,h={signals:Tt,apply:ae,effect:y=>Re(y),actions:Me,genRX:()=>On(h,...i.argNames||[]),plugin:i,el:t,rawKey:r,key:o,value:p,mods:new Map},N=i.keyReq||0;if(s){if(N===2)throw M(`${i.name}KeyNotAllowed`,h)}else if(N===1)throw M(`${i.name}KeyRequired`,h);let b=i.valReq||0;if(S){if(b===2)throw M(`${i.name}ValueNotAllowed`,h)}else if(b===1)throw M(`${i.name}ValueRequired`,h);if(N===3||b===3){if(s&&S)throw M(`${i.name}KeyAndValueProvided`,h);if(!s&&!S)throw M(`${i.name}KeyOrValueRequired`,h)}for(let y of u){let[_,...x]=y.split(".");h.mods.set(Q(_),new Set(x.map(m=>m.toLowerCase())))}let A=i.onLoad(h);if(A){let y=ge.get(t);y||(y=new Map,ge.set(t,y)),y.set(n,A)}}function On(t,...e){let n="",r=/(\/(\\\/|[^\/])*\/|"(\\"|[^\"])*"|'(\\'|[^'])*'|`(\\`|[^`])*`|[^;])+/gm,i=t.value.trim().match(r);if(i){let A=i.length-1,y=i[A].trim();y.startsWith("return")||(i[A]=`return (${y});`),n=i.join(`;
`)}let o=new Map,u=new RegExp(`(?:${Se})(.*?)(?:${Ve})`,"gm");for(let A of n.matchAll(u)){let y=A[1],_=new te("dsEscaped").with(y).string;o.set(_,y),n=n.replace(Se+y+Ve,_)}let s=/@(\w*)\(/gm,p=n.matchAll(s),S=new Set;for(let A of p)S.add(A[1]);let h=new RegExp(`@(${Object.keys(Me).join("|")})\\(`,"gm");n=n.replaceAll(h,"ctx.actions.$1.fn(ctx,");let N=t.signals.paths();if(N.length){let A=new RegExp(`\\$(${N.join("|")})(\\W|$)`,"gm");n=n.replaceAll(A,"ctx.signals.signal('$1').value$2")}for(let[A,y]of o)n=n.replace(A,y);let b=`return (()=> {
${n}
})()`;t.fnContent=b;try{let A=new Function("ctx",...e,b);return(...y)=>{try{return A(t,...y)}catch(_){throw M("ExecuteExpression",t,{error:_.message})}}}catch(A){throw M("GenerateExpression",t,{error:A.message})}}Ne(lt,at,st);async function Fn(t,e){let n=t.getReader(),r;for(;!(r=await n.read()).done;)e(r.value)}function Hn(t){let e,n,r,i=!1;return function(u){e===void 0?(e=u,n=0,r=-1):e=Wn(e,u);let s=e.length,p=0;for(;n<s;){i&&(e[n]===10&&(p=++n),i=!1);let S=-1;for(;n<s&&S===-1;++n)switch(e[n]){case 58:r===-1&&(r=n-p);break;case 13:i=!0;case 10:S=n;break}if(S===-1)break;t(e.subarray(p,S),r),p=n,r=-1}p===s?e=void 0:p!==0&&(e=e.subarray(p),n-=p)}}function qn(t,e,n){let r=At(),i=new TextDecoder;return function(u,s){if(u.length===0)n?.(r),r=At();else if(s>0){let p=i.decode(u.subarray(0,s)),S=s+(u[s+1]===32?2:1),h=i.decode(u.subarray(S));switch(p){case"data":r.data=r.data?`${r.data}
${h}`:h;break;case"event":r.event=h;break;case"id":t(r.id=h);break;case"retry":{let N=Number.parseInt(h,10);Number.isNaN(N)||e(r.retry=N);break}}}}}function Wn(t,e){let n=new Uint8Array(t.length+e.length);return n.set(t),n.set(e,t.length),n}function At(){return{data:"",event:"",id:"",retry:void 0}}var $n="text/event-stream",Et="last-event-id";function _t(t,e,{signal:n,headers:r,onopen:i,onmessage:o,onclose:u,onerror:s,openWhenHidden:p,fetch:S,retryInterval:h=1e3,retryScaler:N=2,retryMaxWaitMs:b=3e4,retryMaxCount:A=10,...y}){return new Promise((_,x)=>{let m=0,l={...r};l.accept||(l.accept=$n);let c;function a(){c.abort(),document.hidden||E()}p||document.addEventListener("visibilitychange",a);let f=0;function v(){document.removeEventListener("visibilitychange",a),window.clearTimeout(f),c.abort()}n?.addEventListener("abort",()=>{v(),_()});let g=S??window.fetch,d=i??function(){};async function E(){c=new AbortController;try{let R=await g(e,{...y,headers:l,signal:c.signal});await d(R),await Fn(R.body,Hn(qn(T=>{T?l[Et]=T:delete l[Et]},T=>{h=T},o))),u?.(),v(),_()}catch(R){if(!c.signal.aborted)try{let T=s?.(R)??h;window.clearTimeout(f),f=window.setTimeout(E,T),h*=N,h=Math.min(h,b),m++,m>=A?(v(),x(M("SseMaxRetries",t,{retryMaxCount:A}))):console.error(`Datastar failed to reach ${y.method}: ${e.toString()} retry in ${T}ms`)}catch(T){v(),x(T)}}}E()})}var le=`${F}-sse`,Ke=`${F}-settling`,ee=`${F}-swapping`,Ce="started",Pe="finished",xt="error",Rt="retrying";function j(t,e){document.addEventListener(le,n=>{if(n.detail.type!==t)return;let{argsRaw:r}=n.detail;e(r)})}function he(t,e){document.dispatchEvent(new CustomEvent(le,{detail:{type:t,argsRaw:e}}))}var wt=t=>`${t}`.includes("text/event-stream"),K=async(t,e,n,r)=>{let{el:{id:i},el:o,signals:u}=t,{headers:s,contentType:p,includeLocal:S,selector:h,openWhenHidden:N,retryInterval:b,retryScaler:A,retryMaxWaitMs:y,retryMaxCount:_,abort:x}=Object.assign({headers:{},contentType:"json",includeLocal:!1,selector:null,openWhenHidden:!1,retryInterval:tt,retryScaler:2,retryMaxWaitMs:3e4,retryMaxCount:10,abort:void 0},r),m=e.toLowerCase(),l=()=>{};try{if(he(Ce,{elId:i}),!n?.length)throw M("SseNoUrlProvided",t,{action:m});let c={};c[et]=!0,p==="json"&&(c["Content-Type"]="application/json");let a=Object.assign({},c,s),f={method:e,headers:a,openWhenHidden:N,retryInterval:b,retryScaler:A,retryMaxWaitMs:y,retryMaxCount:_,signal:x,onopen:async d=>{if(d.status>=400){let E=d.status.toString();he(xt,{status:E})}},onmessage:d=>{if(!d.event.startsWith(F))return;let E=d.event,R={},T=d.data.split(`
`);for(let V of T){let C=V.indexOf(" "),D=V.slice(0,C),O=R[D];O||(O=[],R[D]=O);let W=V.slice(C+1);O.push(W)}let I={};for(let[V,C]of Object.entries(R))I[V]=C.join(`
`);he(E,I)},onerror:d=>{if(wt(d))throw M("InvalidContentType",t,{url:n});d&&(console.error(d.message),he(Rt,{message:d.message}))}},v=new URL(n,window.location.origin),g=new URLSearchParams(v.search);if(p==="json"){let d=u.JSON(!1,!S);e==="GET"?g.set(F,d):f.body=d}else if(p==="form"){let d=h?document.querySelector(h):o.closest("form");if(d===null)throw h?M("SseFormNotFound",t,{action:m,selector:h}):M("SseClosestFormNotFound",t,{action:m});if(o!==d){let R=T=>T.preventDefault();d.addEventListener("submit",R),l=()=>d.removeEventListener("submit",R)}if(!d.checkValidity()){d.reportValidity(),l();return}let E=new FormData(d);if(e==="GET"){let R=new URLSearchParams(E);for(let[T,I]of R)g.set(T,I)}else f.body=E}else throw M("SseInvalidContentType",t,{action:m,contentType:p});v.search=g.toString();try{await _t(t,v.toString(),f)}catch(d){if(!wt(d))throw M("SseFetchFailed",t,{method:e,url:n,error:d})}}finally{he(Pe,{elId:i}),l()}};var Mt={type:3,name:"delete",fn:async(t,e,n)=>K(t,"DELETE",e,{...n})};var Nt={type:3,name:"get",fn:async(t,e,n)=>K(t,"GET",e,{...n})};var Ct={type:3,name:"patch",fn:async(t,e,n)=>K(t,"PATCH",e,{...n})};var Pt={type:3,name:"post",fn:async(t,e,n)=>K(t,"POST",e,{...n})};var It={type:3,name:"put",fn:async(t,e,n)=>K(t,"PUT",e,{...n})};var Lt={type:1,name:"indicator",keyReq:3,valReq:3,onLoad:({el:t,key:e,mods:n,signals:r,value:i})=>{let o=e?k(e,n):z(i),{signal:u}=r.upsertIfMissing(o,!1),s=p=>{let{type:S,argsRaw:{elId:h}}=p.detail;if(h===t.id)switch(S){case Ce:u.value=!0;break;case Pe:u.value=!1;break}};return document.addEventListener(le,s),()=>{document.removeEventListener(le,s)}}};var Dt={type:2,name:H.ExecuteScript,onGlobalInit:async t=>{j(H.ExecuteScript,({autoRemove:e=`${it}`,attributes:n=nt,script:r})=>{let i=J(e);if(!r?.length)throw $("NoScriptProvided",t);let o=document.createElement("script");for(let u of n.split(`
`)){let s=u.indexOf(" "),p=s?u.slice(0,s):u,S=s?u.slice(s):"";o.setAttribute(p.trim(),S.trim())}o.text=r,document.head.appendChild(o),i&&o.remove()})}};var ve=document,Y=!!ve.startViewTransition;var Vt=function(){"use strict";let t=()=>{},e={morphStyle:"outerHTML",callbacks:{beforeNodeAdded:t,afterNodeAdded:t,beforeNodeMorphed:t,afterNodeMorphed:t,beforeNodeRemoved:t,afterNodeRemoved:t,beforeAttributeUpdated:t},head:{style:"merge",shouldPreserve:b=>b.getAttribute("im-preserve")==="true",shouldReAppend:b=>b.getAttribute("im-re-append")==="true",shouldRemove:t,afterHeadMorphed:t},restoreFocus:!0};function n(b,A,y={}){b=h(b);let _=N(A),x=S(b,_,y),m=i(x,()=>s(x,b,_,l=>l.morphStyle==="innerHTML"?(o(l,b,_),Array.from(b.childNodes)):r(l,b,_)));return x.pantry.remove(),m}function r(b,A,y){let _=N(A),x=Array.from(_.childNodes),m=x.indexOf(A),l=x.length-(m+1);return o(b,_,y,A,A.nextSibling),x=Array.from(_.childNodes),x.slice(m,x.length-l)}function i(b,A){if(!b.config.restoreFocus)return A();let y=document.activeElement;if(!(y instanceof HTMLInputElement||y instanceof HTMLTextAreaElement))return A();let{id:_,selectionStart:x,selectionEnd:m}=y,l=A();return _&&_!==document.activeElement?.id&&(y=b.target.querySelector(`#${_}`),y?.focus()),y&&!y.selectionEnd&&m&&y.setSelectionRange(x,m),l}let o=function(){function b(a,f,v,g=null,d=null){f instanceof HTMLTemplateElement&&v instanceof HTMLTemplateElement&&(f=f.content,v=v.content),g||=f.firstChild;for(let E of v.childNodes){if(g&&g!=d){let T=y(a,E,g,d);if(T){T!==g&&x(a,g,T),u(T,E,a),g=T.nextSibling;continue}}if(E instanceof Element&&a.persistentIds.has(E.id)){let T=m(f,E.id,g,a);u(T,E,a),g=T.nextSibling;continue}let R=A(f,E,g,a);R&&(g=R.nextSibling)}for(;g&&g!=d;){let E=g;g=g.nextSibling,_(a,E)}}function A(a,f,v,g){if(g.callbacks.beforeNodeAdded(f)===!1)return null;if(g.idMap.has(f)){let d=document.createElement(f.tagName);return a.insertBefore(d,v),u(d,f,g),g.callbacks.afterNodeAdded(d),d}else{let d=document.importNode(f,!0);return a.insertBefore(d,v),g.callbacks.afterNodeAdded(d),d}}let y=function(){function a(g,d,E,R){let T=null,I=d.nextSibling,V=0,C=E;for(;C&&C!=R;){if(v(C,d)){if(f(g,C,d))return C;T===null&&(g.idMap.has(C)||(T=C))}if(T===null&&I&&v(C,I)&&(V++,I=I.nextSibling,V>=2&&(T=void 0)),C.contains(document.activeElement))break;C=C.nextSibling}return T||null}function f(g,d,E){let R=g.idMap.get(d),T=g.idMap.get(E);if(!T||!R)return!1;for(let I of R)if(T.has(I))return!0;return!1}function v(g,d){let E=g,R=d;return E.nodeType===R.nodeType&&E.tagName===R.tagName&&(!E.id||E.id===R.id)}return a}();function _(a,f){if(a.idMap.has(f))c(a.pantry,f,null);else{if(a.callbacks.beforeNodeRemoved(f)===!1)return;f.parentNode?.removeChild(f),a.callbacks.afterNodeRemoved(f)}}function x(a,f,v){let g=f;for(;g&&g!==v;){let d=g;g=g.nextSibling,_(a,d)}return g}function m(a,f,v,g){let d=g.target.querySelector(`#${f}`)||g.pantry.querySelector(`#${f}`);return l(d,g),c(a,d,v),d}function l(a,f){let v=a.id;for(;a=a.parentNode;){let g=f.idMap.get(a);g&&(g.delete(v),g.size||f.idMap.delete(a))}}function c(a,f,v){if(a.moveBefore)try{a.moveBefore(f,v)}catch{a.insertBefore(f,v)}else a.insertBefore(f,v)}return b}(),u=function(){function b(l,c,a){return a.ignoreActive&&l===document.activeElement?null:(a.callbacks.beforeNodeMorphed(l,c)===!1||(l instanceof HTMLHeadElement&&a.head.ignore||(l instanceof HTMLHeadElement&&a.head.style!=="morph"?p(l,c,a):(A(l,c,a),m(l,a)||o(a,l,c))),a.callbacks.afterNodeMorphed(l,c)),l)}function A(l,c,a){let f=c.nodeType;if(f===1){let v=l,g=c,d=v.attributes,E=g.attributes;for(let R of E)x(R.name,v,"update",a)||v.getAttribute(R.name)!==R.value&&v.setAttribute(R.name,R.value);for(let R=d.length-1;0<=R;R--){let T=d[R];if(T&&!g.hasAttribute(T.name)){if(x(T.name,v,"remove",a))continue;v.removeAttribute(T.name)}}m(v,a)||y(v,g,a)}(f===8||f===3)&&l.nodeValue!==c.nodeValue&&(l.nodeValue=c.nodeValue)}function y(l,c,a){if(l instanceof HTMLInputElement&&c instanceof HTMLInputElement&&c.type!=="file"){let f=c.value,v=l.value;_(l,c,"checked",a),_(l,c,"disabled",a),c.hasAttribute("value")?v!==f&&(x("value",l,"update",a)||(l.setAttribute("value",f),l.value=f)):x("value",l,"remove",a)||(l.value="",l.removeAttribute("value"))}else if(l instanceof HTMLOptionElement&&c instanceof HTMLOptionElement)_(l,c,"selected",a);else if(l instanceof HTMLTextAreaElement&&c instanceof HTMLTextAreaElement){let f=c.value,v=l.value;if(x("value",l,"update",a))return;f!==v&&(l.value=f),l.firstChild&&l.firstChild.nodeValue!==f&&(l.firstChild.nodeValue=f)}}function _(l,c,a,f){let v=c[a],g=l[a];if(v!==g){let d=x(a,l,"update",f);d||(l[a]=c[a]),v?d||l.setAttribute(a,""):x(a,l,"remove",f)||l.removeAttribute(a)}}function x(l,c,a,f){return l==="value"&&f.ignoreActiveValue&&c===document.activeElement?!0:f.callbacks.beforeAttributeUpdated(l,c,a)===!1}function m(l,c){return!!c.ignoreActiveValue&&l===document.activeElement&&l!==document.body}return b}();function s(b,A,y,_){if(b.head.block){let x=A.querySelector("head"),m=y.querySelector("head");if(x&&m){let l=p(x,m,b);return Promise.all(l).then(()=>{let c=Object.assign(b,{head:{block:!1,ignore:!0}});return _(c)})}}return _(b)}function p(b,A,y){let _=[],x=[],m=[],l=[],c=new Map;for(let f of A.children)c.set(f.outerHTML,f);for(let f of b.children){let v=c.has(f.outerHTML),g=y.head.shouldReAppend(f),d=y.head.shouldPreserve(f);v||d?g?x.push(f):(c.delete(f.outerHTML),m.push(f)):y.head.style==="append"?g&&(x.push(f),l.push(f)):y.head.shouldRemove(f)!==!1&&x.push(f)}l.push(...c.values());let a=[];for(let f of l){let v=document.createRange().createContextualFragment(f.outerHTML).firstChild;if(y.callbacks.beforeNodeAdded(v)!==!1){if("href"in v&&v.href||"src"in v&&v.src){let g,d=new Promise(function(E){g=E});v.addEventListener("load",function(){g()}),a.push(d)}b.appendChild(v),y.callbacks.afterNodeAdded(v),_.push(v)}}for(let f of x)y.callbacks.beforeNodeRemoved(f)!==!1&&(b.removeChild(f),y.callbacks.afterNodeRemoved(f));return y.head.afterHeadMorphed(b,{added:_,kept:m,removed:x}),a}let S=function(){function b(c,a,f){let{persistentIds:v,idMap:g}=m(c,a),d=A(f),E=d.morphStyle||"outerHTML";if(!["innerHTML","outerHTML"].includes(E))throw`Do not understand how to morph style ${E}`;return{target:c,newContent:a,config:d,morphStyle:E,ignoreActive:d.ignoreActive,ignoreActiveValue:d.ignoreActiveValue,restoreFocus:d.restoreFocus,idMap:g,persistentIds:v,pantry:y(),callbacks:d.callbacks,head:d.head}}function A(c){let a=Object.assign({},e);return Object.assign(a,c),a.callbacks=Object.assign({},e.callbacks,c.callbacks),a.head=Object.assign({},e.head,c.head),a}function y(){let c=document.createElement("div");return c.hidden=!0,document.body.insertAdjacentElement("afterend",c),c}function _(c){let a=Array.from(c.querySelectorAll("[id]"));return c.id&&a.push(c),a}function x(c,a,f,v){for(let g of v)if(a.has(g.id)){let d=g;for(;d;){let E=c.get(d);if(E==null&&(E=new Set,c.set(d,E)),E.add(g.id),d===f)break;d=d.parentElement}}}function m(c,a){let f=_(c),v=_(a),g=l(f,v),d=new Map;x(d,g,c,f);let E=a.__idiomorphRoot||a;return x(d,g,E,v),{persistentIds:g,idMap:d}}function l(c,a){let f=new Set,v=new Map;for(let{id:d,tagName:E}of c)v.has(d)?f.add(d):v.set(d,E);let g=new Set;for(let{id:d,tagName:E}of a)g.has(d)?f.add(d):v.get(d)===E&&g.add(d);for(let d of f)g.delete(d);return g}return b}(),{normalizeElement:h,normalizeParent:N}=function(){let b=new WeakSet;function A(m){return m instanceof Document?m.documentElement:m}function y(m){if(m==null)return document.createElement("div");if(typeof m=="string")return y(x(m));if(b.has(m))return m;if(m instanceof Node){if(m.parentNode)return _(m);{let l=document.createElement("div");return l.append(m),l}}else{let l=document.createElement("div");for(let c of[...m])l.append(c);return l}}function _(m){return{childNodes:[m],querySelectorAll:l=>{let c=m.querySelectorAll(l);return m.matches(l)?[m,...c]:c},insertBefore:(l,c)=>m.parentNode.insertBefore(l,c),moveBefore:(l,c)=>m.parentNode.moveBefore(l,c),get __idiomorphRoot(){return m}}}function x(m){let l=new DOMParser,c=m.replace(/<svg(\s[^>]*>|>)([\s\S]*?)<\/svg>/gim,"");if(c.match(/<\/html>/)||c.match(/<\/head>/)||c.match(/<\/body>/)){let a=l.parseFromString(m,"text/html");if(c.match(/<\/html>/))return b.add(a),a;{let f=a.firstChild;return f&&b.add(f),f}}else{let f=l.parseFromString("<body><template>"+m+"</template></body>","text/html").body.querySelector("template").content;return b.add(f),f}}return{normalizeElement:A,normalizeParent:y}}();return{morph:n,defaults:e}}();var Ot={type:2,name:H.MergeFragments,onGlobalInit:async t=>{let e=document.createElement("template");j(H.MergeFragments,({fragments:n="<div></div>",selector:r="",mergeMode:i=ot,settleDuration:o=`${be}`,useViewTransition:u=`${Te}`})=>{let s=Number.parseInt(o),p=J(u);e.innerHTML=n.trim();let S=[...e.content.children];for(let h of S){if(!(h instanceof Element))throw $("NoFragmentsFound",t);let N=r||`#${h.getAttribute("id")}`,b=[...document.querySelectorAll(N)||[]];if(!b.length)throw $("NoTargetsFound",t,{selectorOrID:N});p&&Y?ve.startViewTransition(()=>kt(t,i,s,h,b)):kt(t,i,s,h,b)}})}};function kt(t,e,n,r,i){for(let o of i){o.classList.add(ee);let u=o.outerHTML,s=o;switch(e){case G.Morph:{Vt.morph(s,r.cloneNode(!0));break}case G.Inner:s.innerHTML=r.outerHTML;break;case G.Outer:s.replaceWith(r);break;case G.Prepend:s.prepend(r);break;case G.Append:s.append(r);break;case G.Before:s.before(r);break;case G.After:s.after(r);break;case G.UpsertAttributes:for(let h of r.getAttributeNames()){let N=r.getAttribute(h);s.setAttribute(h,N)}break;default:throw $("InvalidMergeMode",t,{mergeMode:e})}let p=s.classList;p?.add(ee),setTimeout(()=>{o.classList.remove(ee),p?.remove(ee)},n);let S=s.outerHTML;p&&u!==S&&(p.add(Ke),setTimeout(()=>{p.remove(Ke)},n))}}var Ft={type:2,name:H.MergeSignals,onGlobalInit:async t=>{j(H.MergeSignals,({signals:e="{}",onlyIfMissing:n=`${rt}`})=>{let{signals:r}=t,i=J(n);r.merge(Ae(e),i)})}};var Ht={type:2,name:H.RemoveFragments,onGlobalInit:async t=>{j(H.RemoveFragments,({selector:e,settleDuration:n=`${be}`,useViewTransition:r=`${Te}`})=>{if(!e.length)throw $("NoSelectorProvided",t);let i=Number.parseInt(n),o=J(r),u=document.querySelectorAll(e),s=()=>{for(let p of u)p.classList.add(ee);setTimeout(()=>{for(let p of u)p.remove()},i)};o&&Y?ve.startViewTransition(()=>s()):s()})}};var qt={type:2,name:H.RemoveSignals,onGlobalInit:async t=>{j(H.RemoveSignals,({paths:e=""})=>{let n=e.split(`
`).map(r=>r.trim());if(!n?.length)throw $("NoPathsProvided",t);t.signals.remove(...n)})}};var Wt={type:3,name:"clipboard",fn:(t,e)=>{if(!navigator.clipboard)throw M("ClipboardNotAvailable",t);navigator.clipboard.writeText(e)}};var $t={type:1,name:"customValidity",keyReq:2,valReq:1,onLoad:t=>{let{el:e,genRX:n,effect:r}=t;if(!(e instanceof HTMLInputElement||e instanceof HTMLSelectElement||e instanceof HTMLTextAreaElement))throw M("CustomValidityInvalidElement",t);let i=n();return r(()=>{let o=i();if(typeof o!="string")throw M("CustomValidityInvalidExpression",t,{result:o});e.setCustomValidity(o)})}};var Gt="once",Bt="half",Ut="full",jt={type:1,name:"intersects",keyReq:2,mods:new Set([Gt,Bt,Ut]),onLoad:({el:t,rawKey:e,mods:n,genRX:r})=>{let i={threshold:0};n.has(Ut)?i.threshold=1:n.has(Bt)&&(i.threshold=.5);let o=r(),u=new IntersectionObserver(s=>{for(let p of s)p.isIntersecting&&(o(),n.has(Gt)&&(u.disconnect(),delete t.dataset[e]))},i);return u.observe(t),()=>u.disconnect()}};var Kt="session",Jt={type:1,name:"persist",mods:new Set([Kt]),onLoad:({key:t,effect:e,mods:n,signals:r,value:i})=>{t=k(t,n),t===""&&(t=F);let o=n.has(Kt)?sessionStorage:localStorage,u=i.split(/\s+/).filter(S=>S!=="");u=u.map(S=>z(S));let s=()=>{let S=o.getItem(t)||"{}",h=JSON.parse(S);r.merge(h)},p=()=>{let S;u.length?S=r.subset(...u):S=r.values(),o.setItem(t,JSON.stringify(S))};return s(),e(()=>{p()})}};var zt={type:1,name:"replaceUrl",keyReq:2,valReq:1,onLoad:({effect:t,genRX:e})=>{let n=e();return t(()=>{let r=n(),i=window.location.href,o=new URL(r,i).toString();window.history.replaceState({},"",o)})}};var Ie="smooth",Je="instant",ze="auto",Yt="hstart",Xt="hcenter",Qt="hend",Zt="hnearest",en="vstart",tn="vcenter",nn="vend",rn="vnearest",Gn="focus",Le="center",on="start",sn="end",an="nearest",ln={type:1,name:"scrollIntoView",keyReq:2,valReq:2,mods:new Set([Ie,Je,ze,Yt,Xt,Qt,Zt,en,tn,nn,rn,Gn]),onLoad:t=>{let{el:e,mods:n,rawKey:r}=t;e.tabIndex||e.setAttribute("tabindex","0");let i={behavior:Ie,block:Le,inline:Le};if(n.has(Ie)&&(i.behavior=Ie),n.has(Je)&&(i.behavior=Je),n.has(ze)&&(i.behavior=ze),n.has(Yt)&&(i.inline=on),n.has(Xt)&&(i.inline=Le),n.has(Qt)&&(i.inline=sn),n.has(Zt)&&(i.inline=an),n.has(en)&&(i.block=on),n.has(tn)&&(i.block=Le),n.has(nn)&&(i.block=sn),n.has(rn)&&(i.block=an),!(e instanceof HTMLElement||e instanceof SVGElement))throw M("ScrollIntoViewInvalidElement",t);return e.tabIndex||e.setAttribute("tabindex","0"),e.scrollIntoView(i),n.has("focus")&&e.focus(),delete e.dataset[r],()=>{}}};var un="none",cn="display",fn={type:1,name:"show",keyReq:2,valReq:1,onLoad:({el:{style:t},genRX:e,effect:n})=>{let r=e();return n(async()=>{r()?t.display===un&&t.removeProperty(cn):t.setProperty(cn,un)})}};var dn="view-transition",pn={type:1,name:"viewTransition",keyReq:2,valReq:1,onGlobalInit(){let t=!1;for(let e of document.head.childNodes)e instanceof HTMLMetaElement&&e.name===dn&&(t=!0);if(!t){let e=document.createElement("meta");e.name=dn,e.content="same-origin",document.head.appendChild(e)}},onLoad:({effect:t,el:e,genRX:n})=>{if(!Y){console.error("Browser does not support view transitions");return}let r=n();return t(()=>{let i=r();if(!i?.length)return;let o=e.style;o.viewTransitionName=i})}};var mn={type:1,name:"attr",valReq:1,onLoad:({el:t,key:e,effect:n,genRX:r})=>{let i=r();return e===""?n(async()=>{let o=i();for(let[u,s]of Object.entries(o))s===!1?t.removeAttribute(u):t.setAttribute(u,s)}):(e=fe(e),n(async()=>{let o=!1;try{o=i()}catch{}let u;typeof o=="string"?u=o:u=JSON.stringify(o),!u||u==="false"||u==="null"||u==="undefined"?t.removeAttribute(e):t.setAttribute(e,u)}))}};var Bn=/^data:(?<mime>[^;]+);base64,(?<contents>.*)$/,gn=["change","input","keydown"],hn={type:1,name:"bind",keyReq:3,valReq:3,onLoad:t=>{let{el:e,key:n,mods:r,signals:i,value:o,effect:u}=t,s=e,p=n?k(n,r):z(o),S=e.tagName.toLowerCase(),h="",N=S.includes("input"),b=e.getAttribute("type"),A=S.includes("checkbox")||N&&b==="checkbox";A&&(h=!1);let y=N&&b==="number";y&&(h=0);let _=S.includes("select"),x=S.includes("radio")||N&&b==="radio",m=N&&b==="file";x&&(e.getAttribute("name")?.length||e.setAttribute("name",p));let{signal:l,inserted:c}=i.upsertIfMissing(p,h),a=-1;Array.isArray(l.value)&&(e.setAttribute("multiple",""),e.getAttribute("name")===null&&e.setAttribute("name",p),a=[...document.querySelectorAll(`[name="${p}"]`)].findIndex(T=>T===t.el));let f=a>=0,v=()=>[...i.value(p)],g=()=>{let T="value"in e,I=i.value(p);f&&!_&&(I=I[a]||h);let V=`${I}`;if(A||x)Array.isArray(I)?s.checked=I.includes(s.value):typeof I=="boolean"?s.checked=!!I:s.checked=V===s.value;else if(_){let C=e;if(C.multiple){if(!f)throw M("BindSelectMultiple",t);for(let D of C.options){if(D?.disabled)return;let O=y?Number(D.value):D.value;D.selected=I.includes(O)}}else C.value=V}else m||(T?e.value=V:e.setAttribute("value",V))},d=async()=>{let T=i.value(p);if(f){let D=T;for(;a>=D.length;)D.push(h);T=D[a]||h}let I=s.value||s.getAttribute("value")||"",V=(D,O)=>{let W=O;f&&!_&&(W=v(),W[a]=O),i.setValue(D,W)};if(m){let D=[...s?.files||[]],O=[],W=[],Xe=[];await Promise.all(D.map(Qe=>new Promise(Rn=>{let X=new FileReader;X.onload=()=>{if(typeof X.result!="string")throw M("InvalidFileResultType",t,{resultType:typeof X.result});let De=X.result.match(Bn);if(!De?.groups)throw M("InvalidDataUri",t,{result:X.result});O.push(De.groups.contents),W.push(De.groups.mime),Xe.push(Qe.name)},X.onloadend=()=>Rn(void 0),X.readAsDataURL(Qe)}))),V(p,O),V(`${p}Mimes`,W),V(`${p}Names`,Xe);return}let C;if(A){let D=s.checked||s.getAttribute("checked")==="true";s.getAttribute("value")?C=D?I:!1:C=D}else if(_){let O=[...e.selectedOptions];f?C=O.filter(W=>W.selected).map(W=>W.value):C=O[0]?.value||""}else if(typeof T=="boolean")C=!!I;else if(typeof T=="string")C=I||"";else if(typeof T=="number")C=Number(I);else throw M("BindUnsupportedSignalType",t,{signalType:typeof T});V(p,C)};c&&d();for(let T of gn)e.addEventListener(T,d);let E=u(()=>g()),R=T=>{T.persisted&&d()};return window.addEventListener("pageshow",R),()=>{E();for(let T of gn)e.removeEventListener(T,d);window.removeEventListener("pageshow",R)}}};var vn={type:1,name:"class",valReq:1,onLoad:({el:t,key:e,mods:n,effect:r,genRX:i})=>{let o=t.classList,u=i();return r(()=>{if(e===""){let s=u();for(let[p,S]of Object.entries(s)){let h=p.split(/\s+/);S?o.add(...h):o.remove(...h)}}else e=k(e,n),u()?o.add(e):o.remove(e)})}};function ye(t){if(!t||t.size<=0)return 0;for(let e of t){if(e.endsWith("ms"))return Number(e.replace("ms",""));if(e.endsWith("s"))return Number(e.replace("s",""))*1e3;try{return Number.parseFloat(e)}catch{}}return 0}function ue(t,e,n=!1){return t?t.has(e.toLowerCase()):n}function yn(t,e,n=!1,r=!0){let i=-1,o=()=>i&&clearTimeout(i);return(...u)=>{o(),n&&!i&&t(...u),i=setTimeout(()=>{r&&t(...u),o()},e)}}function Sn(t,e,n=!0,r=!1){let i=!1;return(...o)=>{i||(n&&t(...o),i=!0,setTimeout(()=>{i=!1,r&&t(...o)},e))}}var Un="evt",Ye="signalsChange",jn=Ye.length,bn={type:1,name:"on",keyReq:1,valReq:1,argNames:[Un],onLoad:({el:t,key:e,mods:n,rawKey:r,signals:i,value:o,effect:u,genRX:s})=>{let p=s(),S=t;n.has("window")&&(S=window);let h=m=>{m&&((n.has("prevent")||e==="submit")&&m.preventDefault(),n.has("stop")&&m.stopPropagation()),p(m)},N=n.get("delay");if(N){let m=ye(N);setTimeout(()=>{h()},m)}let b=n.get("debounce");if(b){let m=ye(b),l=ue(b,"leading",!1),c=!ue(b,"notrail",!1);h=yn(h,m,l,c)}let A=n.get("throttle");if(A){let m=ye(A),l=!ue(A,"noleading",!1),c=ue(A,"trail",!1);h=Sn(h,m,l,c)}if(n.has("viewtransition")&&Y){let m=h;h=(...l)=>document.startViewTransition(()=>m(...l))}let y={capture:!0,passive:!1,once:!1};if(n.has("capture")||(y.capture=!1),n.has("passive")&&(y.passive=!0),n.has("once")&&(y.once=!0),e==="load")return setTimeout(()=>h(),0),()=>{};if(e==="interval"){let m=1e3,l=n.get("duration");l&&(m=ye(l),ue(l,"leading",!1)&&(t.dataset[r.replace(".leading","")]=o,delete t.dataset[r],h()));let c=setInterval(h,m);return()=>{clearInterval(c)}}if(e==="raf"){let m,l=()=>{h(),m=requestAnimationFrame(l)};return m=requestAnimationFrame(l),()=>{m&&cancelAnimationFrame(m)}}if(e.startsWith(Ye)){if(e===Ye){let c=a=>h(a);return document.addEventListener(ce,c),()=>{document.removeEventListener(ce,c)}}let m=k(Q(e.slice(jn)),n),l=new Map;return i.walk((c,a)=>{c.startsWith(m)&&l.set(a,a.value)}),u(()=>{for(let[c,a]of l)a!==c.value&&(h(),l.set(c,c.value))})}if(n.has("outside")){S=document;let m=h;h=c=>{let a=c?.target;t.contains(a)||m(c)}}let x=k(e,n);return S.addEventListener(x,h,y),()=>{S.removeEventListener(x,h)}}};var Tn={type:1,name:"ref",keyReq:3,valReq:3,onLoad:({el:t,key:e,mods:n,signals:r,value:i})=>{let o=e?k(e,n):z(i);r.setValue(o,t)}};var An={type:1,name:"text",keyReq:2,valReq:1,onLoad:t=>{let{el:e,effect:n,genRX:r}=t,i=r();return e instanceof HTMLElement||M("TextInvalidElement",t),n(()=>{let o=i(t);e.textContent=`${o}`})}};var{round:Kn,max:Jn,min:zn}=Math,En={type:3,name:"fit",fn:(t,e,n,r,i,o,u=!1,s=!1)=>{let p=(e-n)/(r-n)*(o-i)+i;return s&&(p=Kn(p)),u&&(p=Jn(i,zn(o,p))),p}};var _n={type:3,name:"setAll",fn:({signals:t},e,n)=>{t.walk((r,i)=>{r.startsWith(e)&&(i.value=n)})}};var xn={type:3,name:"toggleAll",fn:({signals:t},e)=>{t.walk((n,r)=>{n.startsWith(e)&&(r.value=!r.value)})}};je("ds");Ne(mn,hn,vn,bn,Tn,fn,An,Lt,Nt,Pt,It,Ct,Mt,Ot,Ft,Ht,qt,Dt,Wt,$t,jt,Jt,zt,ln,pn,En,_n,xn);ae();export{ae as apply,Ne as load,je as setAlias};
//# sourceMappingURL=datastar-aliased.js.map
