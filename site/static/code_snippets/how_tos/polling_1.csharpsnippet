using StarFederation.Datastar.DependencyInjection;

app.MapGet("/endpoint", async (IDatastarService datastarService) =>
{
    var currentTime = DateTime.Now.ToString("yyyy-MM-dd hh:mm:ss");
    var element = $"""
                    <div id="time" data-on-interval__duration.5s="@get('/endpoint')">
                        {currentTime}
                    </div>
                    """;
    await datastarService.PatchElementsAsync(element);
});
